# 序列化

# 介绍

对象持久化的方式：序列化、外部序列化

1）序列化

分布式环境下，远程通讯时，无论什么类型的数据都会以二进制序列的形式在网上传送。

**序列化是一种将对象以一连串的字节描述的过程**，解决：对对象流进行读写操作时所引发的问题。

实现序列化的方式：类实现Serializable接口。

类 ObjectInputStream 和 ObjectOutputStream 是高层次的数据流，它们包含反序列化和序列化对象的方法。

ObjectOutputStream 类包含很多写方法来写各种数据类型，但是一个特别的方法例外：

`public final void writeObject(Object x) throws IOException`

上面的方法序列化一个对象，并将它发送到输出流。相似的 ObjectInputStream 类包含如下反序列化一个对象的方法：

`public final Object readObject() throws IOException,                                   ClassNotFoundException`

该方法从流中取出下一个对象，并将对象反序列化。它的返回值为Object，因此，你需要将它转换成合适的数据类型。

2）外部序列化

写一个序列化接口继承Serializable，包含read,write方法。自己实现其中的读写方法。

# 1.序列化的实现方式

Java中，对象的序列化可以通过实现两种接口来实现

1. 若实现的是Serializable接口，则所有的序列化将会自动进行
2. 若实现的是Externalizable接口，则没有任何东西可以自动序列化，需要在writeExternal方法中进行手工指定所要序列化的变量，这与是否被transient修饰无关。因此第二个例子输出的是变量content初始化的内容，而不是null。 

# 1. transient的作用及使用方法

​      一个对象只要实现了Serilizable接口，这个对象就可以被序列化，不必关系具体序列化的过程，只要这个类实现了Serilizable接口，这个类的所有属性和方法都会自动序列化。

​      然而在实际开发过程中，这个类的有些属性需要序列化，而其他属性不需要被序列化，打个比方，如果一个用户有一些敏感信息（如密码，银行卡号等），为了安全起见，不希望在网络操作（主要涉及到序列化操作，本地序列化缓存也适用）中被传输，这些信息对应的变量就可以加上transient关键字。这个字段的生命周期仅存于调用者的内存中而不会写到磁盘里持久化。

# 2. transient使用小结

1）一旦变量被transient修饰，变量将不再是对象持久化的一部分，该变量内容在序列化后无法获得访问。

2）transient关键字只能修饰变量，而不能修饰方法和类。注意，本地变量是不能被transient关键字修饰的。变量如果是用户自定义类变量，则该类需要实现Serializable接口。

3）被transient关键字修饰的变量不再能被序列化，一个静态变量不管是否被transient修饰，均不能被序列化。

